@model BlindBidding.Models.HomeViewModels.IndexViewModel

@{ 
    ViewData["Title"] = "Lista Aukcji";
}

<div class="row">
    <div class="col-sm-3 col-xs-12" style="padding-top: 15px;">
        <form asp-controller="Home" asp-action="Index" method="get">
            <label>Wyszukiwana fraza:</label>
            <input type="text" class="form-control" name="filter" placeholder="Wyszukaj..." value="@Model.Filter">
            <br>
            <label>Kategoria:</label>
            <select name="category" class="form-control">
                @foreach (var i in Model.Categories)
                {
                    @if (i.SubcategoryOf == null)
                    {
                        <optgroup label="@i.Name">
                            @foreach (var j in Model.Categories)
                            {
                                @if (j.SubcategoryOf == i)
                                {
                                    <option value="@j.Name">@j.Name</option>
                                }
                            }
                        </optgroup>
                    }
                }
            </select>
            <br>
            <label>Elementów na stronie:</label>
            <select name="onPage" class="form-control">
                @{ List<int> onPageValue = new List<int>();
                    onPageValue.Add(10); onPageValue.Add(20);
                    onPageValue.Add(50); onPageValue.Add(100);}
                @foreach (var i in onPageValue)
                {
                    @if (i.Equals(Convert.ToInt32(Model.OnPage)))
                    {
                        <option value="@i" selected>@i</option>
                    }
                    else
                    {
                        <option value="@i">@i</option>
                    }
                }
            </select>
            <br>
            <label>Porządek sortowania:</label>
            <select name="sortingExpression" class="form-control">
                @{ List<string> sortOrder = new List<string>();
                    sortOrder.Add("Rosnąco"); sortOrder.Add("Malejąco");}
                @foreach (var i in sortOrder)
                {
                    @if (i.Equals(Convert.ToString(Model.SortOrder)))
                    {
                        <option value="@i" selected>@i</option>
                    }
                    else
                    {
                        <option value="@i">@i</option>
                    }
                }
            </select>
            <br>
            <label>Sortuj według:</label>
            <select name="sortingExpression" class="form-control">
                @{ List<string> sortBy = new List<string>();
                    sortBy.Add("Cena");}
                @foreach (var i in sortBy)
                {
                    @if (i.Equals(Convert.ToString(Model.SortingExpression)))
                    {
                        <option value="@i" selected>@i</option>
                    }
                    else
                    {
                        <option value="@i">@i</option>
                    }
                }
            </select>
            <br>
            <button class="btn btn-primary">Filtruj</button>
            <br>
        </form>
    </div>
    <div class="col-sm-9 col-xs-12">
        <h3>@ViewData["Title"]</h3>
    </div>
    <div class="col-sm-9 col-xs-12">
        @foreach (var i in Model.Auctions)
        {
        <div class="row auction-in-list">
            <div class="items-list-auction-description col-sm-3">
                <form method="get">
                    <input name="id" value="@i.AuctionId" asp-controller="Auction" asp-action="AuctionView" type="image" src="~/images/auctionThumbnails/@i.ThumbnailPath" class="img-responsive" />
                </form>
            </div>
            <div class="col-sm-7" style="font-size: smaller">
                <h4>@i.Title</h4>
                @i.Description
            </div>
            <div class="col-sm-2">
                <br>
                <h5>Data zakończenia:</h5>
                @i.EndDate
            </div>
        </div>
        }
    </div>
</div>